<div [formGroup]="form" [ngSwitch]="control.controlType" *ngIf="!control.hidden" [style.marginTop]="control.showLabel ? '24px': ''"
  class="ui-fluid">

  <div *ngSwitchCase="'string'" [class]="control.showLabel ? 'ui-float-label' : ''">
    <input #pc [required]="control.required" pInputText [formControlName]="control.key" [id]="control.key" [readOnly]="control.readOnly"
      autocomplete="off" (change)="onChange($event)" (focus)="$event.target.select()">
    <label *ngIf="control.showLabel" [for]="control.key">{{control.label}}</label>
  </div>

  <div *ngSwitchCase="'textarea'" [class]="control.showLabel ? 'ui-float-label' : ''">
    <textarea #pc [required]="control.required" pInputTextarea [formControlName]="control.key" [id]="control.key" [readOnly]="control.readOnly"
      (change)="onChange($event)" (focus)="$event.target.select()">
    </textarea>
    <label *ngIf="control.showLabel" [for]="control.key">{{control.label}}</label>
  </div>

  <div *ngSwitchCase="'number'" [class]="control.showLabel ? 'ui-float-label' : ''">
    <input #pc [required]="control.required" pInputText type="number" [formControlName]="control.key" [id]="control.key" [readOnly]="control.readOnly"
      autocomplete="off" (change)="onChange($event)" (focus)="$event.target.select()">
    <label *ngIf="control.showLabel" [for]="control.key">{{control.label}}</label>
  </div>

  <j-autocomplete-png #pc *ngSwitchCase="'autocomplete'" [required]="control.required" [formControlName]="control.key" [id]="control.key"
    [placeholder]="control.label" [hidden]="control.hidden" [type]="control.type" (change)="onChange($event)" [owner]="{owner: control.owner, value: form.controls[control.owner]?.value}"
    [showLabel]="control.showLabel" (focus)="pc.select()">
  </j-autocomplete-png>

  <div *ngSwitchCase="'date'" [class]="control.showLabel ? 'ui-float-label' : ''">
    <p-calendar #pc [required]="control.required" [formControlName]="control.key" showButtonBar="true" [id]="control.key" autocomplete="off"
      (change)="onChange($event)" [showIcon]="true" [showOnFocus]="false" [locale]="locale" [dateFormat]="dateFormat" [utc]="true"
      (onSelect)="pc.overlayVisible=false" appendTo="body" (onFocus)="$event.target.select()">
    </p-calendar>
    <label *ngIf="control.showLabel" [for]="control.key">{{control.label}}</label>
  </div>

  <div *ngSwitchCase="'datetime'" [class]="control.showLabel ? 'ui-float-label' : ''">
    <p-calendar #pc [required]="control.required" [formControlName]="control.key" showTime="true" showButtonBar="true"
      [id]="control.key" autocomplete="off" (change)="onChange($event)" [showIcon]="true" [dateFormat]="dateFormat" [utc]="true"
      [locale]="locale" (onSelect)="pc.overlayVisible=false" [showOnFocus]="false" appendTo="body" (onFocus)="$event.target.select()">
    </p-calendar>
    <label *ngIf="control.showLabel" [for]="control.key">{{control.label}}</label>
  </div>

  <div *ngSwitchCase="'boolean'">
    <p-triStateCheckbox #pc *ngSwitchCase="'boolean'" [label]="control.showLabel ? control.label: ''" [formControlName]="control.key" [id]="control.key"
      (change)="onChange($event)"></p-triStateCheckbox>
  </div>

  <div *ngSwitchCase="'table'">
    <div [formArrayName]="control.key">
      <j-table-part-png [formGroup]="form.controls[control.key]" [control]="control" (onChange)="onChange($event)"></j-table-part-png>
    </div>
  </div>

  <div *ngSwitchCase="'script'">
    <label #pc *ngIf="control.showLabel" [for]="control.key">{{ control.label }}:</label>
    <ngx-monaco-editor [options]="{language: control.type}" [ngStyle]="control.style" (change)="onChange($event)" [id]="control.key"
      [formControlName]="control.key" [id]="control.key">
    </ngx-monaco-editor>
  </div>

</div>