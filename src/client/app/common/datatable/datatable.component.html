<div class="mat-container mat-elevation-z4">
    <div class="search-header">
        <md-input-container>
            <input mdInput #filter placeholder="Filter">
        </md-input-container>
    </div>
    <md-progress-bar mode="indeterminate" *ngIf="dataSource.isLoadingResults"></md-progress-bar>
    <md-table #table [dataSource]="dataSource" mdSort class="mat-table" >

        <ng-container cdkColumnDef="select">
            <md-header-cell *cdkHeaderCellDef>
                <md-checkbox (change)="$event ? masterToggle() : null" [checked]="isAllSelected()" [indeterminate]="selection.hasValue() && !isAllSelected()">
                </md-checkbox>
            </md-header-cell>
            <md-cell *cdkCellDef="let row">
                <md-checkbox (click)="$event.stopPropagation()" (change)="$event ? selection.toggle(row.id) : null" [checked]="selection.isSelected(row.id)">
                </md-checkbox>
            </md-cell>
        </ng-container>

        <ng-container cdkColumnDef="date" >
            <md-header-cell *cdkHeaderCellDef md-sort-header> date </md-header-cell>
            <md-cell *cdkCellDef="let row"> {{row.date | date:'dd.MM.yyyy mm:ss'}} </md-cell>
        </ng-container>

        <ng-container cdkColumnDef="code">
            <md-header-cell *cdkHeaderCellDef md-sort-header> code </md-header-cell>
            <md-cell *cdkCellDef="let row"> {{row.code}} </md-cell>
        </ng-container>

        <ng-container cdkColumnDef="description">
            <md-header-cell *cdkHeaderCellDef md-sort-header> description </md-header-cell>
            <md-cell *cdkCellDef="let row"> {{row.description}} </md-cell>
        </ng-container>

        <ng-container cdkColumnDef="Manager">
                <md-header-cell *cdkHeaderCellDef md-sort-header fxShow="false" fxShow.gt-md> Manager </md-header-cell>
                <md-cell *cdkCellDef="let row" fxShow="false" fxShow.gt-md> {{row.Manager}} </md-cell>
        </ng-container>

        <ng-container cdkColumnDef="Customer">
                <md-header-cell *cdkHeaderCellDef md-sort-header fxShow="false" fxShow.gt-md> Customer </md-header-cell>
                <md-cell *cdkCellDef="let row" fxShow="false" fxShow.gt-md > {{row.Customer}} </md-cell>
        </ng-container>

        <ng-container cdkColumnDef="Amount">
                <md-header-cell *cdkHeaderCellDef md-sort-header>Amount</md-header-cell>
                <md-cell *cdkCellDef="let row"> {{row.Amount | number:'1.2-2' }} </md-cell>
        </ng-container>

        <ng-container cdkColumnDef="Tax">
                <md-header-cell *cdkHeaderCellDef md-sort-header fxShow="false" fxShow.gt-md>Tax</md-header-cell>
                <md-cell *cdkCellDef="let row" fxShow="false" fxShow.gt-md> {{row.Tax | number:'1.2-2'}} </md-cell>
        </ng-container>

        <ng-container cdkColumnDef="Status">
                <md-header-cell *cdkHeaderCellDef md-sort-header fxShow="false" fxShow.gt-md>Status</md-header-cell>
                <md-cell *cdkCellDef="let row" fxShow="false" fxShow.gt-md> {{row.Status}} </md-cell>
        </ng-container>

        <ng-container cdkColumnDef="posted">
            <md-header-cell *cdkHeaderCellDef md-sort-header>...</md-header-cell>
            <md-cell *cdkCellDef="let row" [style.color]="row.posted"> 
                <md-checkbox [value]="row.posted" [disabled]="true"></md-checkbox>
            </md-cell>
        </ng-container>

        <md-header-row *cdkHeaderRowDef="displayedColumns"></md-header-row>
        <md-row *cdkRowDef="let row; columns: displayedColumns;" (click)="selection.toggle(row.id)"></md-row>
    </md-table>

    <md-paginator #paginator [length]="this.pageSize" [pageIndex]="0" [pageSize]="pageSize" [pageSizeOptions]="[5, 10, 25, 100]">
    </md-paginator>
</div>
